{"architecture":"arm64","config":{"ExposedPorts":{"9000/tcp":{}},"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","PHPIZE_DEPS=autoconf \t\tdpkg-dev dpkg \t\tfile \t\tg++ \t\tgcc \t\tlibc-dev \t\tmake \t\tpkgconf \t\tre2c","PHP_INI_DIR=/usr/local/etc/php","PHP_CFLAGS=-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64","PHP_CPPFLAGS=-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64","PHP_LDFLAGS=-Wl,-O1 -pie","GPG_KEYS=42670A7FE4D0441C8E4632349E4FDC074A4EF02D 5A52880781F755608BF815FC910DEB46F53EA312","PHP_VERSION=7.4.30","PHP_URL=https://www.php.net/distributions/php-7.4.30.tar.xz","PHP_ASC_URL=https://www.php.net/distributions/php-7.4.30.tar.xz.asc","PHP_SHA256=ea72a34f32c67e79ac2da7dfe96177f3c451c3eefae5810ba13312ed398ba70d"],"Entrypoint":["docker-php-entrypoint"],"Cmd":["php-fpm"],"WorkingDir":"/php_app/","StopSignal":"SIGQUIT","ArgsEscaped":true,"OnBuild":null},"created":"2022-06-29T06:24:19.862400923Z","history":[{"created":"2022-05-23T19:39:22.111391528Z","created_by":"/bin/sh -c #(nop) ADD file:3ae36c6c4a1fc43157692da97c6c4fa6c3d0189ba82e2bef7f5aaf4a5e083f18 in / "},{"created":"2022-05-23T19:39:22.280155576Z","created_by":"/bin/sh -c #(nop)  CMD [\"/bin/sh\"]","empty_layer":true},{"created":"2022-05-25T20:06:17.672840107Z","created_by":"/bin/sh -c #(nop)  ENV PHPIZE_DEPS=autoconf \t\tdpkg-dev dpkg \t\tfile \t\tg++ \t\tgcc \t\tlibc-dev \t\tmake \t\tpkgconf \t\tre2c","empty_layer":true},{"created":"2022-05-25T20:06:19.926661208Z","created_by":"/bin/sh -c apk add --no-cache \t\tca-certificates \t\tcurl \t\ttar \t\txz \t\topenssl"},{"created":"2022-05-25T20:06:20.649683365Z","created_by":"/bin/sh -c set -eux; \tadduser -u 82 -D -S -G www-data www-data"},{"created":"2022-05-25T20:06:21.141457506Z","created_by":"/bin/sh -c #(nop)  ENV PHP_INI_DIR=/usr/local/etc/php","empty_layer":true},{"created":"2022-05-25T20:06:22.639296573Z","created_by":"/bin/sh -c set -eux; \tmkdir -p \"$PHP_INI_DIR/conf.d\"; \t[ ! -d /var/www/html ]; \tmkdir -p /var/www/html; \tchown www-data:www-data /var/www/html; \tchmod 777 /var/www/html"},{"created":"2022-05-25T20:06:23.136582776Z","created_by":"/bin/sh -c #(nop)  ENV PHP_CFLAGS=-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64","empty_layer":true},{"created":"2022-05-25T20:06:24.139930853Z","created_by":"/bin/sh -c #(nop)  ENV PHP_CPPFLAGS=-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64","empty_layer":true},{"created":"2022-05-25T20:06:25.132827493Z","created_by":"/bin/sh -c #(nop)  ENV PHP_LDFLAGS=-Wl,-O1 -pie","empty_layer":true},{"created":"2022-05-25T21:02:56.093744115Z","created_by":"/bin/sh -c #(nop)  ENV GPG_KEYS=42670A7FE4D0441C8E4632349E4FDC074A4EF02D 5A52880781F755608BF815FC910DEB46F53EA312","empty_layer":true},{"created":"2022-06-10T00:17:35.918539748Z","created_by":"/bin/sh -c #(nop)  ENV PHP_VERSION=7.4.30","empty_layer":true},{"created":"2022-06-10T00:17:36.110176478Z","created_by":"/bin/sh -c #(nop)  ENV PHP_URL=https://www.php.net/distributions/php-7.4.30.tar.xz PHP_ASC_URL=https://www.php.net/distributions/php-7.4.30.tar.xz.asc","empty_layer":true},{"created":"2022-06-10T00:17:37.131111003Z","created_by":"/bin/sh -c #(nop)  ENV PHP_SHA256=ea72a34f32c67e79ac2da7dfe96177f3c451c3eefae5810ba13312ed398ba70d","empty_layer":true},{"created":"2022-06-10T00:17:44.087561113Z","created_by":"/bin/sh -c set -eux; \t\tapk add --no-cache --virtual .fetch-deps gnupg; \t\tmkdir -p /usr/src; \tcd /usr/src; \t\tcurl -fsSL -o php.tar.xz \"$PHP_URL\"; \t\tif [ -n \"$PHP_SHA256\" ]; then \t\techo \"$PHP_SHA256 *php.tar.xz\" | sha256sum -c -; \tfi; \t\tif [ -n \"$PHP_ASC_URL\" ]; then \t\tcurl -fsSL -o php.tar.xz.asc \"$PHP_ASC_URL\"; \t\texport GNUPGHOME=\"$(mktemp -d)\"; \t\tfor key in $GPG_KEYS; do \t\t\tgpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\"; \t\tdone; \t\tgpg --batch --verify php.tar.xz.asc php.tar.xz; \t\tgpgconf --kill all; \t\trm -rf \"$GNUPGHOME\"; \tfi; \t\tapk del --no-network .fetch-deps"},{"created":"2022-06-10T00:17:45.001050321Z","created_by":"/bin/sh -c #(nop) COPY file:ce57c04b70896f77cc11eb2766417d8a1240fcffe5bba92179ec78c458844110 in /usr/local/bin/ "},{"created":"2022-06-10T00:25:15.145995394Z","created_by":"/bin/sh -c set -eux; \tapk add --no-cache --virtual .build-deps \t\t$PHPIZE_DEPS \t\targon2-dev \t\tcoreutils \t\tcurl-dev \t\tgnu-libiconv-dev \t\tlibsodium-dev \t\tlibxml2-dev \t\tlinux-headers \t\toniguruma-dev \t\topenssl-dev \t\treadline-dev \t\tsqlite-dev \t; \t\trm -vf /usr/include/iconv.h; \tln -sv /usr/include/gnu-libiconv/*.h /usr/include/; \t\texport \t\tCFLAGS=\"$PHP_CFLAGS\" \t\tCPPFLAGS=\"$PHP_CPPFLAGS\" \t\tLDFLAGS=\"$PHP_LDFLAGS\" \t; \tdocker-php-source extract; \tcd /usr/src/php; \tgnuArch=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"; \t./configure \t\t--build=\"$gnuArch\" \t\t--with-config-file-path=\"$PHP_INI_DIR\" \t\t--with-config-file-scan-dir=\"$PHP_INI_DIR/conf.d\" \t\t\t\t--enable-option-checking=fatal \t\t\t\t--with-mhash \t\t\t\t--with-pic \t\t\t\t--enable-ftp \t\t--enable-mbstring \t\t--enable-mysqlnd \t\t--with-password-argon2 \t\t--with-sodium=shared \t\t--with-pdo-sqlite=/usr \t\t--with-sqlite3=/usr \t\t\t\t--with-curl \t\t--with-iconv=/usr \t\t--with-openssl \t\t--with-readline \t\t--with-zlib \t\t\t\t--disable-phpdbg \t\t\t\t--with-pear \t\t\t\t$(test \"$gnuArch\" = 's390x-linux-musl' \u0026\u0026 echo '--without-pcre-jit') \t\t\t\t--disable-cgi \t\t\t\t--enable-fpm \t\t--with-fpm-user=www-data \t\t--with-fpm-group=www-data \t; \tmake -j \"$(nproc)\"; \tfind -type f -name '*.a' -delete; \tmake install; \tfind \t\t/usr/local \t\t-type f \t\t-perm '/0111' \t\t-exec sh -euxc ' \t\t\tstrip --strip-all \"$@\" || : \t\t' -- '{}' + \t; \tmake clean; \t\tcp -v php.ini-* \"$PHP_INI_DIR/\"; \t\tcd /; \tdocker-php-source delete; \t\trunDeps=\"$( \t\tscanelf --needed --nobanner --format '%n#p' --recursive /usr/local \t\t\t| tr ',' '\\n' \t\t\t| sort -u \t\t\t| awk 'system(\"[ -e /usr/local/lib/\" $1 \" ]\") == 0 { next } { print \"so:\" $1 }' \t)\"; \tapk add --no-cache $runDeps; \t\tapk del --no-network .build-deps; \t\tpecl update-channels; \trm -rf /tmp/pear ~/.pearrc; \t\tphp --version"},{"created":"2022-06-10T00:25:16.000296875Z","created_by":"/bin/sh -c #(nop) COPY multi:869bde9dbeae74886a05c9e2107b3e3b4877116db8c6d9adbaff2719f9fb5262 in /usr/local/bin/ "},{"created":"2022-06-10T00:25:17.163559036Z","created_by":"/bin/sh -c docker-php-ext-enable sodium"},{"created":"2022-06-10T00:25:18.141279141Z","created_by":"/bin/sh -c #(nop)  ENTRYPOINT [\"docker-php-entrypoint\"]","empty_layer":true},{"created":"2022-06-10T00:25:19.151260667Z","created_by":"/bin/sh -c #(nop) WORKDIR /var/www/html","empty_layer":true},{"created":"2022-06-10T00:25:20.550133546Z","created_by":"/bin/sh -c set -eux; \tcd /usr/local/etc; \tif [ -d php-fpm.d ]; then \t\tsed 's!=NONE/!=!g' php-fpm.conf.default | tee php-fpm.conf \u003e /dev/null; \t\tcp php-fpm.d/www.conf.default php-fpm.d/www.conf; \telse \t\tmkdir php-fpm.d; \t\tcp php-fpm.conf.default php-fpm.d/www.conf; \t\t{ \t\t\techo '[global]'; \t\t\techo 'include=etc/php-fpm.d/*.conf'; \t\t} | tee php-fpm.conf; \tfi; \t{ \t\techo '[global]'; \t\techo 'error_log = /proc/self/fd/2'; \t\techo; echo '; https://github.com/docker-library/php/pull/725#issuecomment-443540114'; echo 'log_limit = 8192'; \t\techo; \t\techo '[www]'; \t\techo '; if we send this to /proc/self/fd/1, it never appears'; \t\techo 'access.log = /proc/self/fd/2'; \t\techo; \t\techo 'clear_env = no'; \t\techo; \t\techo '; Ensure worker stdout and stderr are sent to the main error log.'; \t\techo 'catch_workers_output = yes'; \t\techo 'decorate_workers_output = no'; \t} | tee php-fpm.d/docker.conf; \t{ \t\techo '[global]'; \t\techo 'daemonize = no'; \t\techo; \t\techo '[www]'; \t\techo 'listen = 9000'; \t} | tee php-fpm.d/zz-docker.conf"},{"created":"2022-06-10T00:25:21.133296513Z","created_by":"/bin/sh -c #(nop)  STOPSIGNAL SIGQUIT","empty_layer":true},{"created":"2022-06-10T00:25:22.144313284Z","created_by":"/bin/sh -c #(nop)  EXPOSE 9000","empty_layer":true},{"created":"2022-06-10T00:25:23.151449558Z","created_by":"/bin/sh -c #(nop)  CMD [\"php-fpm\"]","empty_layer":true},{"created":"2022-06-29T06:23:27.073776218Z","created_by":"RUN /bin/sh -c apk update --no-cache \u0026\u0026 apk add icu-dev oniguruma-dev tzdata # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-06-29T06:23:27.091489718Z","created_by":"WORKDIR /php_app/","comment":"buildkit.dockerfile.v0"},{"created":"2022-06-29T06:24:12.784718961Z","created_by":"RUN /bin/sh -c docker-php-ext-install intl pcntl mbstring # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-06-29T06:24:13.058002795Z","created_by":"RUN /bin/sh -c rm -rf /var/cache/apk/* # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-06-29T06:24:17.97668963Z","created_by":"RUN /bin/sh -c curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/bin --filename=composer # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-06-29T06:24:19.862400923Z","created_by":"RUN /bin/sh -c apk add --no-cache git # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-06-29T06:24:19.862400923Z","created_by":"CMD [\"php-fpm\"]","comment":"buildkit.dockerfile.v0","empty_layer":true}],"os":"linux","rootfs":{"type":"layers","diff_ids":["sha256:dd565ff850e7003356e2b252758f9bdc1ff2803f61e995e24c7844f6297f8fc3","sha256:d49e621c7cda703caa977b8a568f4f00684569e921df1dd954eb1b18f7621242","sha256:f531de7df65baa93d2447672505ccaf45e14086618ed1a470fea2400d1a56d21","sha256:14c587b93460774f28ac8608a26f4592a58febe3f8186b73862110b9e6e0cbc6","sha256:2d6dc9db640e2df3d7e9cf57b0f3f1434cae7accab59077ea93e892fa665b019","sha256:21d6ef3dbddc948066b75659965037f246d961cf204cd4c2f6189dbf71db3e3d","sha256:07f944fed6bcc4fe904d5ade8414b0da9508bc1975a0f37ee531b537520afc32","sha256:16acb8b4fe073660862ee00816c777639ef8e4f4087397c3cc0b0b0dc891d71c","sha256:b558bdd3ac9fc1aea4c90a58aada655537084a9d5b36228379993e008f5bd412","sha256:56f7658ca32f6ff2ddf8e2b013aba2175fdffb94f6d9a39a1e4bd7fdc0e63157","sha256:652bb8efd7245d84d37bf72ae271872a7ce94bc9f217b834bff1dc40caa4d536","sha256:2e69693dce4f2b7791da7a3231500dcadae10c24ef1d4d1bdc087f43a4b4a581","sha256:e08c002aa4cc0b4eeb9b4ff3f50fb279e9833c2df675ceb5a4f4e403c31de32f","sha256:fd013f8f3a84cc54dbc82e3165677dc761fbe81ce69231737805db21872eb54d","sha256:9bb73f51defe3ea958309b79ce44db159ee6d16121baaa04bdfd32075ed010e6","sha256:76aba1fad78078e59cb3dc8625ca3e9260f7dbe6e0621e30eb76cf3221ec35dd"]},"variant":"v8"}